# Calculator

The calculator allows users to:

-   Perform simple calculations
-   Perform unit conversion

<ScreenShot src="/applets/calculator/search.png" alt="Calculator banner" />

## Usage example

<Video src="/applets/calculator/usage.webm" volumeControls={false} />

## Features

### All Math.js features

The applet currently uses Mathjs, meaning supports all official Mathjs features.

This includes:

-   Basic arithmetic, E.g.: `5 + (12 * 10)`
-   Unit conversion, E.g.: `25cm in inches`
-   Variables, E.g.: `width = 25; area = width * width`
-   Matrices, E.g.: `[1, 2; 3, 4] * [5, 6; 7, 8]`
-   Imaginary numbers, E.g.: `sqrt(-1)`

The full range of features can be found at [Mathjs' website](https://mathjs.org/).

### Error reporting

By default when a calculation is performed that includes an error, the calculator applet simply won't return anything, since the performed search may not have been a calculation at all:

<ScreenShot src="/applets/calculator/noErrorReporting.png" alt="Calculator banner" />

However, when the dedicated calculation search pattern is used, the item will always appear and mention the error. All you have to do to accomplish this, is add a `=` in front of your query:

<ScreenShot src="/applets/calculator/errorReporting.png" alt="Calculator banner" />

## Settings

The calculator applet contains a couple of simple settings to customize how the calculations are displayed.

<ScreenShot src="/applets/calculator/settingsOverview.png" alt="Settings overview" />

## Roadmap

We're currently using Mathjs, but this library doesn't have some basic functions that we would love for our applet:

-   More precise error reporting (highlight the mistake in the input field)
-   Simple notation for american length unit (feet+inches, E.g. 6'3")
-   Date manipulation
-   Intuitive percentage usage (E.g. 100 \* 25%)
-   Mismatched bracket error recovery

For that reason we started our own math parser, but this hasn't been finished, and might need to be redone completely as the code is already rather messy.

For the forseeable future we will stick with Mathjs, but eventually we hope our own math parser - that fits this applet better - will be used instead.

### Advanced

There is a lot more advanced functionality that could be added to a calculator applet like this. Some ideas are described below.

For some ideas we're however not sure if they should be part of this applet, or an 'advanced calculator' applet. We want to make sure that this applet remains very simple and intuitive to use, for every day tasks.

#### Plotting

It could provide simple plotting capabilities, for formulas involving 1 variable such as:

```
x + 9 * sin(x) =
```

in which case we also have to consider how the plot result will be navigated (translation + zoom)

This idea could even be taken a step further by making an environment similar to the one found in [desmos](https://www.desmos.com/calculator). This would obviously be a large undertaking however. When making such an advanced system you would probably also want to be able to save the environment and such.

#### Derivatives/integrals

The calculator may provide some way of calculating derivatives and integrals including their derivation steps, similar to [derivative-calculator.net](https://www.derivative-calculator.net/) and [integral-calculator.net](https://www.integral-calculator.net/).

#### Wolfram alpha

Depending on available apis, it would be amazing if a service similar to [wolfram alpha](#https://www.wolframalpha.com/) could provide some advanced analytical data that wouldn't be feasible for us to implement in javascript.
